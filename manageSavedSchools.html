<!--
    -Visibility icon from: https://www.flaticon.com/free-icon/eye_159604?term=visibility&page=1&position=15&origin=search&related_id=159604
-->

<!DOCTYPE html>
<html>
    <link rel="stylesheet" href="style.css">
    
    <title>Manage Saved Schools</title>
    <head>
</head>
<body>
    <!-- add nav bar -->
    <script src="loadnavbar.js"></script>

    <div id="container">
        <h1>Manage Saved Schools</h1>
        <p class="topInfo">Here you can view, and edit, your saved schools.</p>
        
        <div class="leftRightContainer">
            <div class="savedSchoolsContainer">
                <div class="schoolSavedContainer">
                    <div class="top">
                        <img class="icon hoverEffect" src="Images/delete.png" onclick="remove(this.parentNode.parentNode)">
                        <h3>Yale</h3>
                        <button onclick="view(this.parentNode.children[1].innerHTML)">View</button>
                    </div>
        
                    <div class="bottom">
                        <p class="addOnText">added on 2019/01/11 14:57:45</p>
                    </div>
                </div>
        
                <div class="schoolSavedContainer">
                    <div class="top">
                        <img class="icon hoverEffect" src="Images/delete.png" onclick="remove(this.parentNode.parentNode)">
                        <h3>St. John's University</h3>
                        <button onclick="view(this.parentNode.children[1].innerHTML)">View</button>
                    </div>
        
                    <div class="bottom">
                        <p class="addOnText">added on 2019/01/11 14:57:45</p>
                    </div>
                </div>
    
            </div>
            <div class="detailedSchoolView">
                <p class="nothing">View a school to see its info here.</p>
                
                <div>
                    <p>School</p>
                    <div class="detailedSchoolViewData">
                        <p>Yale</p>
                    </div>
                </div>

                <div>
                    <p>State</p>
                    <div class="detailedSchoolViewData">
                        <p>Connecticuta</p>
                    </div>
                </div>

                <div>
                    <p>Location</p>
                    <div class="detailedSchoolViewData">
                        <p>Small-City</p>
                    </div>
                </div>

                <div>
                    <p>Control</p>
                    <div class="detailedSchoolViewData">
                        <p>Private</p>
                    </div>
                </div>

                <div>
                    <p>Number of Students</p>
                    <div class="detailedSchoolViewData">
                        <p>10,000</p>
                    </div>
                </div>

                <div>
                    <p>% Female</p>
                    <div class="detailedSchoolViewData">
                        <p>45</p>
                    </div>
                </div>

                <div>
                    <p>SAT Verbal</p>
                    <div class="detailedSchoolViewData">
                        <p>675</p>
                    </div>
                </div>

                <div>
                    <p>SAT Math</p>
                    <div class="detailedSchoolViewData">
                        <p>675</p>
                    </div>
                </div>

                <div>
                    <p>Expenses</p>
                    <div class="detailedSchoolViewData">
                        <p>$33,014</p>
                    </div>
                </div>

                <div>
                    <p>% Financial Aid</p>
                    <div class="detailedSchoolViewData">
                        <p>40</p>
                    </div>
                </div>

                <div>
                    <p>Number of Applicants</p>
                    <div class="detailedSchoolViewData">
                        <p>11,500</p>
                    </div>
                </div>

                <div>
                    <p>% Admitted</p>
                    <div class="detailedSchoolViewData">
                        <p>20</p>
                    </div>
                </div>

                <div>
                    <p>% Enrolled</p>
                    <div class="detailedSchoolViewData">
                        <p>60</p>
                    </div>
                </div>

                <div>
                    <p>Academics Scale</p>
                    <div class="detailedSchoolViewData">
                        <p>5</p>
                    </div>
                </div>

                <div>
                    <p>Social Scale</p>
                    <div class="detailedSchoolViewData">
                        <p>3</p>
                    </div>
                </div>

                <div>
                    <p>Quality of Life Scale</p>
                    <div class="detailedSchoolViewData">
                        <p>4</p>
                    </div>
                </div>

                <div>
                    <p>Emphases</p>
                    <div class="detailedSchoolViewData emphasesData">
                        <p>Biology</p>
                        <p>English</p>
                        <p>History</p>
                        <p>Liberal Arts</p>
                        <p></p>
                    </div>
                </div>

            </div>

        </div>

    </div>

    <!-- because of how small this script is I thought it would be alright to NOT have as a separate file -->
    <script>
        document.body.addEventListener("onload", init());

        let detailsIsEmpty = true;
        
        function init() {
            let ref = document.getElementById("container").children[2].children[1];

            for(let i = 1; i < ref.children.length; i++) {
                ref.children[i].style.display = "none";
            }
        }

        function view(name) {
            if(detailsIsEmpty) {
                let ref = document.getElementById("container").children[2].children[1];
                  
                ref.children[0].style.display = "none";
                
                for(let i = 1; i < ref.children.length; i++) {
                    ref.children[i].style.display = "flex";
                }
                
                detailsIsEmpty = false;
            }
        }

        function remove(element) {
            document.getElementsByClassName("savedSchoolsContainer")[0].removeChild(element);

            // if there are no saved schools, let the user know
            if(document.getElementsByClassName("savedSchoolsContainer")[0].children.length < 1) {
                notifyNoSaved();
            }
        }

        function notifyNoSaved() {
            let node = document.createElement("h4");
            node.innerHTML = "You currently have no saved schools";
            node.style.position = "absolute";
            node.style.marginTop = "150px";
            document.getElementById("container").appendChild(node);

            document.getElementsByClassName("detailedSchoolView")[0].style.visibility = "hidden";
        }
    </script>
</body>
</html>